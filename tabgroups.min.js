/** @preserve TABGROUPS: VIEW DOC|CODE|LIC @ github.com/ustlibraries/tabgroups */
"undefined"==typeof tabgroups&&(tabgroups=!1),function(e){function t(t){a(t),e(t).closest("div").hasClass("tab-to-dropdown")&&n(e(t).closest("div"),!1)}function a(t){var a="#"+e(t).closest("div").attr("id");e(a+" > ul > li.selected, "+a+" > h2.selected").removeClass("selected").addClass("not-selected").find("span.screen-reader-text").html("Show: "),e(a+" > div.selected").addClass("hidden").removeClass("selected");var n=e(t).find("a").attr("href");e(a+" a[href='"+n+"']").each(function(){e(this).parent().removeClass("not-selected").addClass("selected"),e(this).parent().find("span.screen-reader-text").html("Currently Showing: ")});var s=e(a+" > div"+n);s.removeClass("hidden").addClass("selected"),e(a+".compact.tab-to-accordion").length&&(u("Scroll: "+e(n).prev().offset().top),e("html, body").animate({scrollTop:e(n).prev().offset().top},1e3)),e(a).find(" > div.selected div.tab-group").length&&d(),u("Current Tab for Group ["+a+"] Now: ["+s.attr("id")+"]")}function n(t,a){"undefined"==typeof a&&(a=!0);var n=e(t).find("ul:first"),d=e(t).find("span.tab-menu > a");null!==n&&(e(n).hasClass("dropdown-expanded")||a===!1?(n.removeClass("dropdown-expanded"),e(t).find(" > span.tab-menu > span.screen-reader-text").html("Show Menu: "),d.html(n.find("li.selected a").attr("data-name")),d.attr("data-action","Open Dropdown")):(n.addClass("dropdown-expanded"),e(t).find("span.tab-menu > span.screen-reader-text").html("Hide Menu: "),d.html("Select..."),d.attr("data-action","Close Dropdown (no selection made)")))}function d(){e("div.tab-group").each(function(){var t="div#"+e(this).attr("id"),a=e(t+" > div.selected"),d=a.outerWidth(!0),s=0;"none"!==e(t+" > ul").css("max-width")?s=parseInt(e(t+" > ul").css("max-width")):e(t).is(":visible")&&(e(t+" > ul > li").each(function(){s=s+3+e(this).outerWidth(!0)}),e(t+" > ul").css("max-width",s),e(t+" > ul").css("white-space","nowrap"));var r=!0;d<s&&(r=!1),e(t).attr("data-tab-group-calc-width","Needed: "+s+" | Current: "+d+" | Enough Room?: "+r),r&&e(this).hasClass("compact")?(e(this).removeClass("compact").addClass("tabbed"),e(this).find("ul.dropdown-expanded")&&n(this,!1)):!r&&e(this).hasClass("tabbed")&&e(this).removeClass("tabbed").addClass("compact")})}function s(){var a=new Date,s=0,r=e("div.tab-group");r&&(e(r).each(function(){s++;var t=e(this);m(t);var a=t.attr("data-name");"undefined"==typeof a&&(a="Tab Group",t.attr("data-name",a));var d=e(document.createElement("a"));e(d).attr("href","#").click(function(t){t.preventDefault(),n(e(this).closest("div"))}),e(d).attr({"data-category":"Tabs","data-action":"Open Dropdown","data-label":t.attr("id")});var r=e(document.createElement("span")).addClass("tab-menu").append(d);e(t).prepend(r),e(document.createElement("h1")).append(document.createTextNode(a)).insertBefore(r),e(document.createElement("span")).addClass("screen-reader-text").html("Show Menu: ").prependTo(r),t.hasClass("tab-to-accordion")||t.hasClass("tab-to-dropdown")||t.addClass("tab-to-dropdown"),t.hasClass("tabbed")||t.hasClass("compact")||t.addClass("tabbed")}),e("div.tab-group > ul > li > a").each(function(){var t=e(this),a=t.attr("href"),n=t.attr("data-name");"undefined"==typeof n&&(n=t.html(),t.attr({"data-name":n}));var d=e(document.createElement("h2")),s=e(document.createElement("a")).attr("href",a).append(document.createTextNode(n));e(d).append(s),e(d).insertBefore(a);var r=e(this).closest("div").attr("id");e(this).attr({"data-category":"Tabs","data-action":"Select Tab","data-label":r+" : "+n}),e(s).attr({"data-category":"Tabs","data-action":"Open accordion","data-label":r+" : "+n})}),e("div.tab-group > ul > li > a, div.tab-group > h2 > a").click(function(a){a.preventDefault(),t(e(this).parent())}),e("div.tab-group > ul > li, div.tab-group > h2").each(function(){e(this).addClass("not-selected"),e(document.createElement("span")).addClass("screen-reader-text").html("Show: ").prependTo(this)}),e("div.tab-group > div").each(function(){e(this).addClass("hidden")}),e("div.tab-group").find(" > ul > li:first, > h2:first").addClass("selected").removeClass("not-selected").find("span.screen-reader-text").html("Currently Showing: "),e("div.tab-group").find(" > div:first").addClass("selected").removeClass("hidden"),e("div.tab-group").each(function(){e(this).find(" > span.tab-menu > a").html(e(this).find(" > ul > li.selected > a").attr("data-name"))}),d(),e(window).resize(function(){d()}));var o=Math.abs(new Date-a);u("Init of "+s+" TabGroups completed in "+o+" milliseconds")}var r="0.0.2-20161220-01",o="github.com/ustlibraries/tabgroups",i="TABGROUPS",l="TabGroups UI",c=!1,u=function(e){if(!c){var t=new Date,a=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+"."+t.getMilliseconds();console.log(i+" ["+a+"] : "+e)}},p=function(e){e?(u("Silenced"),c=!0):(c=!1,u("Unsilenced"))},h=function(){return tabgroups},f=function(e){return tabgroups=e===!0,h()},m=function(t){var a=function(t){var a=e(t).attr("id"),n=e(t).prop("tagName");return e(n+"#"+a).length<2},n=e(t).attr("id"),d=e(t).prop("tagName");if("undefined"==typeof n||!a(t)){u("Element with no-ID/non-unique ID detected ("+d+"#"+n+")... assigning a unique ID"),"undefined"==typeof n&&(n=i);var s="";do s=n+"_"+Math.floor(1e3*Math.random()+1);while(!a(e(t).attr("id",s)));u("Element ("+d+"#"+n+") reassigned to: "+d+"#"+e(t).attr("id"))}};e.fn.tabgroups=function(e,a){switch("undefined"==typeof e&&(e="init"),"undefined"==typeof a&&(a={}),e.toLowerCase()){case"init":s();break;case"config":"undefined"!=typeof a.silence&&p(a.silence);break;case"select":if("undefined"!=typeof a.id){var n=this.find("ul:first > li > a[href='#"+a.id+"']").parent();u("Dynamically select tab for content ID: "+a.id),t(n)}break;default:u("Unknown Command for tabgroups(): "+e)}return this},f(!0),u("Loaded "+l+" ("+o+") [ver"+r+"]"),s()}(jQuery);